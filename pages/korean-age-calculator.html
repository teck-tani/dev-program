<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>만나이 & 한국식 나이 계산기</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; margin: 0; padding: 0; }
        .container { max-width: 400px; margin: 40px auto; background: #fff; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 32px 24px; }
        h1 { font-size: 1.5rem; text-align: center; margin-bottom: 24px; }
        label { display: block; margin-top: 16px; margin-bottom: 6px; font-weight: 500; }
        input[type="date"] { width: 100%; padding: 8px; font-size: 1rem; border: 1px solid #ccc; border-radius: 4px; }
        button { width: 100%; margin-top: 24px; padding: 12px; font-size: 1.1rem; background: #0078d7; color: #fff; border: none; border-radius: 4px; cursor: pointer; transition: background 0.2s; }
        button:hover { background: #005fa3; }
        .result { margin-top: 32px; padding: 18px; background: #f1f3f6; border-radius: 6px; font-size: 1.1rem; text-align: center; }
        .result img { display: block; margin: 0 auto 12px auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>만나이 & 한국식 나이 계산기</h1>
        <form id="ageForm" onsubmit="event.preventDefault(); calculateAge();">
            <label for="birth">생년월일</label>
            <input type="date" id="birth" required>
            <label for="ref">기준일 (기본값: 오늘)</label>
            <input type="date" id="ref">
            <button type="submit">계산하기</button>
        </form>
        <div class="result" id="result"></div>
    </div>
    <script>
        // 페이지 로드시 기준일에 오늘 날짜 자동 입력
        window.addEventListener('DOMContentLoaded', function() {
            const refInput = document.getElementById('ref');
            if (refInput && !refInput.value) {
                const today = new Date();
                const yyyy = today.getFullYear();
                const mm = String(today.getMonth() + 1).padStart(2, '0');
                const dd = String(today.getDate()).padStart(2, '0');
                refInput.value = `${yyyy}-${mm}-${dd}`;
            }
        });
        // 연령대별 이미지 URL
        function calculateAge() {
            const birthStr = document.getElementById('birth').value;
            let refStr = document.getElementById('ref').value;
            if (!birthStr) {
                document.getElementById('result').innerText = '생년월일을 입력하세요.';
                return;
            }
            const birth = new Date(birthStr);
            let ref;
            if (refStr) {
                ref = new Date(refStr);
            } else {
                ref = new Date();
                refStr = ref.toISOString().slice(0,10);
                document.getElementById('ref').value = refStr;
            }
            // 만나이 계산
            let age = ref.getFullYear() - birth.getFullYear();
            const m = ref.getMonth() - birth.getMonth();
            if (m < 0 || (m === 0 && ref.getDate() < birth.getDate())) {
                age--;
            }
            // 한국식 나이 계산
            const koreanAge = ref.getFullYear() - birth.getFullYear() + 1;
            // D-DAY 계산
            const diffTime = ref.getTime() - birth.getTime();
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById('result').innerHTML =
                `<b>만나이:</b> ${age}세<br><b>한국식 나이:</b> ${koreanAge}세<br><b>D-DAY:</b> ${diffDays.toLocaleString()}일`;
        }
    </script>
</body>
</html> 